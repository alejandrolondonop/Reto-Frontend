<div *ngIf="affiliates.length === 0; else table" class="alert alert-warning text-center">
  No se ha realizado ninguna busqueda
</div>

<ng-template #table>

  <div class="container">
    <table class="table table-hover">
      <thead>
        <tr>
          <th>Id</th>
          <th>Nombre</th>
          <th>Edad</th>
          <th>Email</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let affiliate of affiliates">
          <td>{{affiliate.id}}</td>
          <td>{{affiliate.name}}</td>
          <td>{{affiliate.age}}</td>
          <td>{{affiliate.email}}</td>
          <td>
            <button (click)="toggleAppointments()" ><i class="bi bi-arrow-down"></i></button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div *ngIf="showAppointments">
    <div class="container">
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Id</th>
            <th>Fecha</th>
            <th>Hora</th>
            <th>Id de la prueba</th>

          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let appointment of appoinments">
            <td>{{appointment.id}}</td>
            <td>{{appointment.date}}</td>
            <td>{{appointment.hour}}</td>
            <td>{{appointment.idTest}}</td>

          </tr>
        </tbody>
      </table>
    </div>
  </div>
</ng-template>
